language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname-s`-`uname
  -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip-true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/lab10-backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push sunjido/se234-lab10-backend
- docker pull sunjido/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: cpT/muQ0TOMDHiJPrI1txDsut/btTvnwh3//7bomV0lztnRFbtgjPJr77jO0Cab7d9qg1wzPq46S+WeAZrQHEtZxKesgZx5gPztZZJlD4bh5lo9Aq3yi21tD2F1r5gJemT3crlbtLkEqCypJG/1+/QM3PYtLwOkw+T3pSDPfSuk5MEg0GlBsdI9qsVzH+4YSUHcA475CIQkRuTfQy4p+m4BVlb68f195ozMa/FkVXigFwXZGutJDrX1W4IA27sJibxgetYaO5SLF6IHY2qbzEPz4txYlJyBAbLIh0dOstbS3Y4hXUMTc6qhhMtLyul3GKcA9ZEHYcM3OO3uo8/KIsKdV0evQMCXPV+S7DIN5gahULkwoUxZvvQVGzg05ZihBn/2LoO3JoeV3M4mRHMGR5MZielAhmENGUCDht8UiSVIECOULgbETqu6rTd2EqYWTtKSFuzYjooiju6iN2mAzBrgWHjgAr+8GFSrRcvATmB04lSv/RlzyX1ScglKmZEOmZv65ENj8i6vujhrRZCntXFkX8J05JCrpQuIlz3qzAlnHSJ0umkzA2JCdHNwrIRcJgy+oFpdmsWzLU9/1FjT7cjIwDP2v+qn1wRJizgHZBwHZMN0SaYvuMYSYf4ObnV4o93IujNZpa2GfhC6F/FTW5Ci+FazOVO9O2MNCjZndMvM=
  - secure: cRCkJ9Cie8p+ikFCX2NssOamnreawkaXcuJdX7Wgo5TqX7ajdYi76CJZyQuExeW7WdMWs3P/pZ2tuICNuRWCDulvdFsTB410FYcdRien/FiDJfjC7D6uowAoeBq0Hd002IdY5PSFI9BvIh38MxsGALDxaYXIgCE70+tDixQYjNf02VOZWCt57Xtlln/CN57TQ8KMszjJngSM2P55j6EThk97jWC9gtJ2r5hWkaMXhHn8y2MJHPlTcR9EccEqL4MvprAGGJWAVU/HdScuOxIMQQ7b7s+a4tVoE+qiqV2dCwrFkCshQhh8wDLWK1kiu4jeb5gvUvPnwXMmP2mnhqEz2t249CyZBs9TGQ8qcN4F339pVWWWxO42wrdympmE0f+et9tHW5crY+k7RlEeauWv3cj3urn1ETHhfI93xNsPkrmyVwfX+d5cK8ZG4IcmtMqdrz0otjFtZQQgzxo7QjZrb+vBsT+U6gLntFf8+n+dITKon63HYGRmmOU+xuqZaieRaqNAK+aHtYlCWO0NPo++rDaIabpPEpO0Qe8BYtOokvjqoMCxV7HHuR9WIYV+hT5nhOVucWqfL6qCfnO6MyrhAY0+W1DtrIbfRQVWwG576hOhBR33g+2vh37ujERuiC8XDsjKmebGXZQpTuTRp84grxgzupANQi9KQi/Dg7wMfuU=
  - secure: YkldX5B3jnPAxMt3zXY/pL67xAtAvmY8KCze6lSg52uOpgG2GE+OtOfzHLd2RRGlouPG8CmlZiBLSimvvtidsh1XYWGS8iBqdgxx3Z5k5FEnJPppFEZoo2gfZBRhBtOdudPRTRS3lLZXUpKep60+Be2/Lj0fdyjiXVjZEZ6y33mTIvY6CdGonsl8zX/cgct09LKqXxtR6XxLbygzZdhIC4Api3PzkPnAkIs7tc/mwIJTcLXtGh8yLBTU+DJD0LEN7X4vLTWyZpxpAMoNsP0n9n8Van/UeOb0L5gYDssB9UruXSo7SPIVJDc/EdA779WuwKOJw84jumdwhMrt3u6wqHGbyd1zBNSAiWANYonjOQhFJNXLEaicsgMUYouh1/TMKVcrqJ7YeIfQGhPgfWfD7YLd05VaelTuDMO2bVn6bwSpLXzxlIiB8d2pwdsbcoh8iupV9TmkLGGEYEPP1i/ufU8vQZ7CESq1ZUpXj6RW4HLDtyuD+j6Wi0E920YRdMmqzuKq1Ojg+/lhKcDg56AovBORD5jH48AiKImkx6MRTjzd+vPZd82gK/C4Q4ma1ie8qCMWTypI9XRiSt6UoRmqfVqo9WkVQp8NxmE6ELkGJ6GNhuCUPCDhhCsTNSgw2uXX2F9u62JkAOECCsgh92HQg79orZC+oe2eBXnGipEIt28=
  - secure: ra9oGu6xCc/CVecrQfV3dPvu8tlj9j790HsdHA87ZwUA4NU9aaeMJ6ZPdCMqJ0C6USMcdgG5H4B+SnbMGeZfjS1C/sJSn+/i3CQyujKbGcsYZ7iZ2vOpL1150UAG1Rm1iSRGK87E9Nwl/9QyULZDmCMHxx8v0dd/U/CfIKuf1DWnGq6CAn83SLUAoZFwuZwkJBkS+rj7UY4nFELJRVbQtNOqlAblxQy7smrmg//DtYtDOZFe4XQ/K5/zfGxkq0ND9MjZjc/5ndz4SLfMcNTf+r2s5sR0Q/w92gueLApIxgMG5n0WiCUE71s/n+N05yyhA4GUzkVmI5N3AH6gAx7z09rkYmpa21DONPKf9xpUbPr4XAFdJ0szw0PPTLxd+oE6vAp72ExUx3PrpLS8WXCJwE4CTNljt/+UQWcpEqK+gRZK00T2GpKpJdWQiKzw7XOn0wcxfDtszhXCLvmIiwca5XczXe7CDg44iwomxTKIZ1LZ0bGzGZ+rQsZ3FqSZvdI3Pr7GLBT7tiIZ72b4q/qhZttFLEAU58BRZmi96dRrkE0mBfOWv8UvxPmecCsFqpzL95SsFvYE1lORva1bXKQokHmSCiZeE/sIpVqxGSkancZE0IiVENf0EUbNxAddBa7hDUFqmElNQ8f/2E/ng3x74o+4kN3glFgSsa2u+bbPgBg=

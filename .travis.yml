language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/1.21.0/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/lab10-backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push sunjido/se234-lab10-backend
- docker pull sunjido/se234-lab10-client
script:
- docker-compose -H "tcp://52.14.107.181:2000" up
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: JqWoRwmeYliDS0yQbmPLxFzbdFHOhaGOQEY4n3X4Jxxcg/vGznFUbBxZwXkiH9V8qTohsbGVYKn2WJ/Mmbg28mnM3YpDD27mbG4fG6LBA6RfukR2nxVYBNi3CbEGq3IRR08CUVK0sL6qAeYmyHDoU08uf6t3W+2ibW7epG0zXMPt7hplmU4TacHrSP1B0jBO6q9d6q82kj4Bg/Bg1O4sX7sRO2FMrKQOUNuG1Cxi/sVNxX2BEcczS/O7n0/BANaj3/ZfmfXpJjVPFFpRrFu4e+220dduuV0pmI2nXn+BZazfxTGNc2MD3PmWzn/ZCdRmxgdNOFDthzIXbKju6fdpvInbEUfY37K6e/GV5E15aMRV841vvRhb3o0Nz3G6MgBc+WJNExpI3h84+5Cw+eGegLBdlO5cq8CXSk7TN+XMu1PRozOsXeSK4/qPHvnH+GVjvFO/hzovLbwNRrBSm52WOaNe4wZ1drtZejk20B/hRHcGVLFvBDbEh017KYecmOowJjSBg943/NSrGVFxO6XYIq+XoQoiHghkZSej0YsGIztohvrNAHFN7AZ6eqMuh4WhUlOoXMfv3WKqZmjYiv3zhDY+zDEyvScBuTokVv+ICrWIeWVmT/bdZJEeEXOvtVyhT7k4MgV1f4rrxiSv5nmarxrPhs6FyzCDYEjoAG3kWv8=
  - secure: UpTZ3PvkmZiS2THfKE8uKS4bZMNXVQPcBkHggXk4HZPUCMv9yCyxX6JR+/dbsX6fijqj2Nfan7S7jWXqe589lZJDyaQox9kMs/xPdm7T+7a6oQLRFLr1KlRl8w6vFxArhLPyCLhgHUEmdIewRHi8w51fPO2UPt5RwpvPazBbg8WR9ZZLJTMoq/0nHxUQQtVtHA1qOy9pTwSoPa1tY7OVKdiDhZZgAG2A7g5h83W3h3WrutkGUfu0hFR83DyTfGChcHv7Qh4sM2tiOmqlpLC4/ryvnAAYbqQAQy1gqK180qpHFbogKT9efhF9X1aIgTf8LaMY6c+6BV10Wy3CinRPzWSgYSrQB12jWPjIyT1nWU0HfmgACAhugcfy/mJ4eM0Nj8B9qLeLeHwV/KfCD7qOq+AQ0j4cE42Q055XEABds5WPyrSR010qp7nXXV1WAfzcv75JsYt520Jb/uqOcMervgUAxpmb2Ka3JMSwuAFMEwsa+fpF5KfqQaI0t6BYG5x6sHmI80CGF3/0HJaQ3H7DLqJdnMtoUEM3pNBSJb88D8IPDgq8we1lqXr56ZnFd5U4cAFfh/HyqROjHltVgwws2KwCOqxHCpxSEe4WFFDLJ0yo1TCKSmM8qDn6gesiKMpfqA6EJ0DykOsJcuX617GQDn3Pdyfcz3Qxwu86aoAry2I=
  - secure: fVQPwifjXv4jISv9+mf22AI9QwJ7iBLURT3pwi47SF0V8jKJ/nQi8BGO5+NfvVMfXDn7lserramzyGuSjKYJ8j+JITY5RMf17P/u+cNbO1wrzQyIylvFRep9F0VRLk5RYdqvMxIfQREGPsf5IFCe25mjs+yDrqzRldDpJMKLhHDlNolAoTB5tfmPKJHahdfuGW9VUzrlfYaP5rhOqW5lA98u1zNlThV4E+TgjBEe53JkzbOvqPbI45nQYAmj0RIrW4+HpdSof7sYtIXS+txE+2K7jZPt5EkDh2RCOICqM0o/dWkaXAsAbHW7B27e+O5dxm9ouO9k8crZxRtN7Lz3uOOxJ3QlNVxPS0TrIutfoQ8n192Wz4u/1Zgt2Ja1C5KL2YLj/41ewSfcSkgN3FLatine6OAWG83UJUGydo3LOYeKL54VcUDwN+TQT6p/3sXR6WhyOstt8A5PNdTQl1RV8zfcjNF5oTEp2bCbQUcq6MftVzcN8Jzc+OwAPRWnFm1YEnQHCxfiCRpMrgk7kB9kPI4yv9NT33qeW6+q7Xf5kHky1YVpg9dmYk+IhIYWwdIrgDsqwJ3UGKcpyEyySpdaXOpWPfUZZbHmlFcKlL9txcGc68dyfs+JLR/U06OrN96plhrdly3DXkw9NEIUBC3fqoKtw/E/00uW6efDKiII74I=
  - secure: dMcmZHwI/B2ALKom8slGzJykKunqh+5ZNmv9x+pJWdMrQ0eT6XVFZkkEjeO+mqV/VDDDAsFnCZ1MkQ+Zzm+uPKMpHVuALwxqhWvNKN9ohSVFH6lfYO7Nyya2eoIkawjD+tgiiwKDWZeHlASsYhQ1PHeD3azRWl0eCIv5Ayr+LlIZs+DXjKy4XFSvEnz09iDa21ShGg08om3H3mKvWBH65cEWO9Plx7rIBQhGmcsfcjih8yQ7tKGTieRUAxQ1hjKQHOOwAqzvGbePPZXeCOXHXjbfBL5Z0V9+QDKEKxTiJTnGojHjztVym/ohuo8880wf1vR0nghR0l/W2xuNp/kLSQbwYeLS18uCmUFSI2p69OMTVzk0nkloj/wucSiCQ3PAwdYjIkbkouzwXMAKFvYv1avMBPrDg48y6FLyw6ouI7pdgRE5mxXyDuE01pTOQxzLs+Mmx7ycyDh6eb6sUQiHGzqy3MFRkybaavpDqU8VExAZzbRJW8UQ4MzHHPztKnUSjBJD9+P1JKnqs70MMoalqj4LyWHk9lAbUE8Xrj7hIsUtifjQXEyFG87iiaC5HN+/vbZNYchR4OB5Z4swaGnOspyoVLUfmyiuLUHDixT6yJI+pd9o1XV/kANDJRJZSregnmbSQOrFLmruOUOoGMMeRRzREk8T5kaHRPF9MK+BHV8=

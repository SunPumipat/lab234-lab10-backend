language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname-s`-`uname
  -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip-true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/lab10-backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push sunjido/se234-lab10-backend
- docker pull sunjido/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: rzAq4M2Mb7F25QPtfVifiIdbnHcMPSQjJQ1RjpLi9f6uH28yakyqTDAWaE/EN2CM87OiZJJzjufUBFnrri9NZw1ok4DFpMAY4reQVmnUSLTfpAKk1FhIZ7xJvhW1RJ8JiaHqSuguq9449yAGkheGs0ECILV+fOpbTyeJ1lXS6RJ/PM/9RRlinp8X1D6pP1t6LtyjaUeWWkIfTuFEIKt9EFNEvlrNY7kDgKiFdVc3yfo/e0cA7A8Lx9PhsNKtyytRr3ySAwZggj3CfbqlLxCcZTxPa6fjAivn3henqDzCh37VCqUFYfj3LP92IetogtIPF/W7YZF6VluIjRjti7b4NiWwZ0Z16wCEc+Hdiucp0SPWqIvasJMLXSsJAUE9vybBB1Ev2KNIDFS9Yozf1aykqDk5ujeoGRMcD8VJ54vwaDTxNKBrAGPXuIQ5b60QdNMz0/B4RDGJ4kzhj1Z7Kzn3MIZFpijscivJc6sFfpZfr+htBi7fNZtTWgOdEHy9YL+L3hmV/ney+Q9i0tweudOaGWVg/FVsov5oq3EoUYEzf1Begyun1AMQFtB5abGGGYr9w5GqXI3FQ8AZyGkmfWrJ8/4+ifi0M4iJDLb6iFnV9TjaAcSai5R2/BzopnHzkVmA5541LGFXTmaQILFQECuuu+W98713zcV/Hmy7koflJQk=
  - secure: VhbaI3ypG4VDl38blYxsRAEIAirVqxKuJtsMUaNjW8B43bG1YZpkEyI3iPYxYR6WojsAU7lc3t5boa64+X9k/SN42hZcq3pH+h6iX4NK3xudjAib1jaeNWlGLN3Zd99DJujYYk6uJ8Z34xleJpmAPVHRPt2wGzUZkb1Ucj61bX1eLZF3zBezMGBl7RDYqBa5gNYrLS3U7HoDOKZSuN5Vl9Nl4oJbSgxXBME/WhY1RGPbuH7qIsfJeSqxfrYVMctrFUAuNRu34BqM77BDYsOhHW3B53xj+xVPG2OTtjNVtskEc8ujpLeX+OUn9hA80bOgwGHeFHQ3c+ebqOTHN1lepuDNWi6wYv6yVQZ1vCzZSt55AOibhNH/kFTeR04jwuQcdGsdGE6L+lhLhqv+qwWowI+DO/9f4wuO5fkxSyF1E5g9Y8M7emTEqtppd1ORzRJrw97a0+Dz+DlniCr2PmuTa+QUYGI/L0ZIMz6ZTkFjL0x0xWQfNJLOJWSJoZmbCjkdWts51LWlqZLegr6atIFr9ccB1iFAvyKr4w/TfSbcIbwihZNWznHLDvd0EN0zUAlJTC5ab/16kBr8IV1h+3bpjYoOMHbj3lKvm5ra4AgIdhjdomb4m3Td5oW5gXxlCZg0uD022OCKVkeuhEur7FoGBeqqmeT3+G7Q1N46A3GK/no=
  - secure: RnUjbJiz+q86dv8k2r+FlqCMnLYDW7KKRcuGZZl4r57+hU1AvbcYYrOvyCsQgV4iwFYsxabdIzeJr1i/o0pC2bx1sgRKrO3802GLwvcIkFwx81peHDuIM35E1J2EV4Fx4TBNZXfWoPrltgWl0swZ8xgt8JWOaNNtz+egydltrzWQ0vZcWIn6Bd5fnRQJH2i1d+Qr4UOilKVT9n1EIO+v5k6M7l4f+U+4lpG7Hp/JF2EiuNb07O1Y7XJou3qBPOXdFFJHjBVfA6wUWL0nXIVy4XOeH5ZFibU5O524EbJ/wZF6JLE/jNXUuQVzpDT6MTNwKh6LFLypyQF7fA7ADeIRpJgry3mW9ibyUrLpKE+KWjsbeIAwqn0kuACgqwYKmb1a4rUv5/gTuQGO/OQ5UMQ79Kyqc2yK1Yy/8BdhedzBwNQHeJ8GVX65UaR6UVecykn0G+HFf8PqKlw5eFwOKTm3aE4ExsTFfBXZ+wv/oSSFJysQjwhg9+/WhqpB9+wSnFSbi8aETrgytvf5wj1rh7yidiWgCHzg+0ec8S/9cAQpQnpXH5C66gecgipkFeAR6LSK0+r3n4LZ7Q3BxhApKHaGFY2174YN8LUoyZzbHgE5yfg95GU1O0kdI0jalCwINn/nNy8mYAXCQAgWLnZbuy9pwI8I+goeswJ7bBZNDk1WJlo=
  - secure: r4Ir7LtrkEPqKyLoIjkp30jYusDvPeiy8wW+1Tq/yeZbjlfLBWHhBjJXXTgKC1Y0MRupjHW+kwFyj2ypgztpY66CvgwY6d9esI/VNrOATzRBWTsg72a8nRbNs8rUjCxtQVz7wbR7inKKStSnOr+4q9pm3PTXoKC4j++1+K3zV1slach6vHNRSoDPXSo/D9dzc0UwPI4fhp304kEiuulC8m5D5PtD9PaNoovJ5I5jJD4uAQBW5Px4oKERhQBIqf2sJ/j3gVJQh30/gxqCPwNncYqiaieH6ROOVzobKfsJ5rDuSL1YD/++BsNsHRY1OjWVLE8RztfwZGevo87BkyYwaLQ8ItKCTCbeYC6hlscDRi5t8dJjQLd7WA+CBf8S5/CKxQq7sryvo6qju6+UTKWTvyNNdy0z8w+sKMYGenf2WlN+5u1uW+LQsyw9QQ7J085U9tPcdZ5iAvk4Gw2PPRJmopHm6ejaQjuZW7RcP3RUW4RqZ81nUjHJWsTKyp4V5ehozsGP+KDc4Ow43zmdvIP4k2CPloIufIjNFtQPI0JuFl4tPlp+096b/Dccz/l8keW2sNyfE65TUrwkz0QsEFpd3S2Kja+UdfOFnmZk55yGc1eJuv6TW1ZKIzo+0bt0CjMsDkR7WL0HVNozD6TcB60rXwNGSYPLBKJRy/Spff3sycU=

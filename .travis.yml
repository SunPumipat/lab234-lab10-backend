language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname-s`-`uname
  -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip-true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/lab10-backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push sunjido/se234-lab10-backend
- docker pull sunjido/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: Hay3pCtZq/XcNeC4IC5FQ5helraIt9KolFanZUcUghPUyeHiXkip1TL5DLYKK3zpqPwxa1zwROJdE6On9motWQ6WK+Uzl04ryO0wWGSaD5+NzsKHhK9iCJZg5d13TY0n0ta5pQiZy+YbvSEBEXPD08EnRmzTP/G+U5WEG91RU2HjHxzuirWF+JMnnpQDVl3YvbtnPRU7/TZf9mFtxIhsBbn7nLUpWnuFPae6oibS4T+tvohUP+uqKYtVln6PkoagSzo0Jt6U9IknbuNtGPTxUYcWf++/75ixLTHS0xaqJPiBIivRRB9eXCvgn99tPCoO7amQQdIK73Tr03PDz+4Sn7zxcDs8a+Ercjl/RKq9lTLryzuz96j337V/X6dHflEXRKr1WnwE7Nu/MnskAlZerUdrdDwIFtXvanoLoEEIiVEPRWLUBiG/tPiOLH9KkA63ClotD80AGIFfxlqF94y87oyV7D8TUuaKJoohWDVkRDbeb57RTpWN5a8PdaPmfZEFwW9ZcG2RWIV1mgwNsLBt/tIFyUSxV7s3qf9KVwfO8Y18g5PKkWdmeXxq+DoCen75L+rjMI2y8/Hv3KgIpJoojuogZvofDtwGG/zoadQd9qp9S/rDd+RWyLe6QndBmqsJBnpF9FYIPttlVff3mEfXZ420zqSlDJZaV7x0FMJ3a0s=
  - secure: Q5YkupvA7Be8IqTTAIn2MJ9LuEiE8th0wMPPcyLnhXOyVLT1PLqJwxHCqVwe2MFKCtUTn8U9u6g2b4/eq5WiR6E6HjBurcjZkwsaJGavKXjKLJGxyauHKQzXjQoWRE9ZhKrMRVTacTV0A1XnhQAkQIbUEZU50woKpYLECGSUZlHiFpAxoQWBjdsOUWMVb7iZMEdvRlxa6o7BMoMbSoigo6qQyr8NKfa6TqA3n586UG4CtzN+nAt7UifZFEXmS06VTyZyofoMHcm/4ntMVik0CDmcLSws2ZDrAbMYJm75ULpNi1ePU+W/jmqdVnXuTHvwt+uY2o+SpyUi02y06N6+xHb6BftU5RUhD9aA9NGbaBMIGUe/T3yYbs1IMsinU3EUSzI2aNy9fU1i/lDbgKCi/oWYq5yvJpThtEbUX/iC9He8zzCsOuEkh4yx3/H9T3Cj4rkK66B32W7lIX5Dkxy3d/EZw5d6ubxVdDkPx04d7pZMzdx2dCUGfXsKJsVVqgH2XAhrrg0hzdzFMcWkOzP/C+1nlOV+OuWyppHi1BSzmdMMWOsps/4tEB7iOtM/ViR1TvJw/ki45yvrpYEc51KZ4vvLV4zKvcDZTR4ky0AF8ekHbYT/3Ds/Y2l/hO89RCiyjacaXqnPvtOzAtfdEvyhGZnQL5mXCKOlv7zHjAbM7KI=
  - secure: FVdC/4X9zZ2Tnnx5WfsmprpDPGR/S+e1tUbQtzt7cT9LMkUmkw57Qrj/wBVvfuwz9L1xYhKYr1F08grbyQEyp6iEN7RXsnzTE/8HClTRy1AEpEjKCshuyveShUIUH3t6hx4ee1Lv3PrgJGn0cow4zxFayKzODWBKDUV9Eet/xKsJDQL5Tv800HifdMCFEaEVS6qjQbpYLTz50pYm/y5A+LAxO63B0M7YeH/0l0KEdp0kAfwXpgimAr+Kc0GaMauG+ux8Vn2PUI6F/WkkrJjL0GKPV05cIk7ouuNq6jx6I5CWsBVRlrAyCvndUtbEu6UxG6F9S34Jlv6nHtDx/dlhMjUYFXkQ3mlZXyy0z8CcZtmgBtsjYEhZS9RBV70zEmWoaKrQt3q01W0Lasz8X/sn9NJYfcO3uNpAQT/aIg5GZ4Z0NdIGmfejcQVcr2uHPHn54NB+injVoRrLC+VA0oTt7fRuLzhvqPlbdgJ2EwfmHSm9JcJ1liPqpbfv6d3IubISS6w2tpGcjpw/P0G92VZELhc7JxAH/mqjKs9F/rkp9QcqMMXrPGh7v4uJp4pjpb0GDqBzlsjjQPUycWexa7YEf5H5F+IPBOSWLM3Gm3eNGVbxJq+g5WZdB9bXYlsVmhoLHreb0qTsVoyBeyQVEz9QdMbDGKu1hLjjTwIcih+jShA=
  - secure: Bembbi+nlOnbvI6ZpGJwtxuxAALCKueKEOkEnDWDu5QQ+mDsNI+Wo6SieU2sKk4UYSUp6cSgtMe7WcBpycc8QlKiQfCc0319atIAgtJECjJVZW41E4ZLZIrBJjvY2pyfFQkVC9cSATXuSSsmgPw0jaBIcS3WeB6bdwVgc40U7z0AFsoHk6bShc7GcPbLrfUde/1D0tkB0M7kXSzbls3qEgkbz7WDWuzq3YHfhKTyxXUvUrxYUofrgSHJ4N9PTq6qX7x427ncF5NZfERGDU4gt7+++lfKrfZtTLR9qpVwJU93EtmK0MocGo9nzYaNCfcGlR5m6rpJa2CIuaPUP50PCUpbRRYUtOrarrJ7o0pA0hjFbT1yYBYDFFWIE4DCkNtIDdh4i6I2wj3rNKwwwgNSHJM91nCMSVWDkl6YeeHyQ5ZDIV24sNyjHGWvxGGLtGvyTEec1IYRExxHvHQsvwhDtv5ki90yJ+m7YPawA/duuY079KflIkwBWZeYk+1a+Z3G6qzJaL/JRoy51dQtBKnrb8qE2pEg1cS6sU+jdy8ckwAMFDPxzPWLRyWM0qjNgN/RRC/SeLBKP1Cp/W1qTFC3a67EEyTzaYSpVtx9SIG8DTrWcyVE9oUy0um+Oa7cs6F/jCApJ3jLVo51D6bRet5Bcg7h1mVlvyAf6DvjJhl7qPs=

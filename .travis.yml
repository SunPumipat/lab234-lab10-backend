language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L http://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/lab10-backend.jar -t $DOCKER_USERNAME/se234-lab10-backend  .
- docker push dto80/se234-lab10-backend
- docker pull dto80/se234-lab10-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - secure: q/vieIyy9w1WbxXxjNj1iiFMZnZ2yy9h/nokEK3go8S+HW5/7JvvoDEqQbrEj+cwrQiP0mhIgcAWqDVuEBjSrFbE3m7MboiKbOvGZWSbC7tJEcy6AzyP1ODEXDB58APtv9gh3YviIw5NAnnbcPSbvG/fLyfpSothc9kQJq6YQtGVr/tRzd5J3As+gb0/LKdvUy059bThGT2UlqOOtdAjy4DfZUKWqM8/qYKzMy75zrg7SLxbNeDlp+5W3GynyFqUVyEDiazfJOj5vO9gB8hd8NbL6IOjle0sWFrA1wg/3QulipFVzTHs0kxwhuDPiBiEc264QUGUvAwRo0DdmelvSSWI6kE3D6QvSz2BoA819ItIY4A5uYzVqp4kx2x3pKFLALuZzbIstm+Syi6YIqUBOPhDblYekWTdYut3ytqlen9dfavj5r7m9Pqf8snkmRO6q+LmXzy3S/Y80UKxxTyrfDuYtS0VA8RA2V4oMWPAndQMrR3m4toGzHaXCBDIiv2pGYhHgPtHD+ZUsdpPleiGh3+4iyZaqwOjX1bkkOv6yaCjdlzv8N7C+0Ob3FGgHqJiFxmOaTbd4f1SqOB5Q13GdoAfN79kb8GrdQPasVlJesqRBP33J/Jdkg6fv4IrJCOPZH9p2fQzWFZC0kossDw1Zd21MWH3DdJ4VA3ufRGBzZw=
  - secure: pxTzUX2DvfRj7b/ZsStlrHxJWGKkiVNGY831ouaPrA8ymVP63rReudyluqu4RG3saiIDRPqwOlVKz9k8iaaYheWYk+OstKB0Pqy6UGwl+xB01eE2/75/UMqdGXVkBdUdh2I0w6o3PprZUp6CO91lQeqBG4bKV8WlcmkdRyWT7QnLcd5p5mCXEjzrx/28iO27jWmMaLlSfUDe4vSEhOrcgqjt2Q8fvoM5nQOZS12uxeDu7MLr4VvNVCQz/mep3jALQjHCGMmzfkbmZ6sx+kR6Osmb7N7vgIiPz4wx7yXXXXtPWdXaS12Jy0DMjcoj3DFDUj2ux5ta3WVF62UM3uZ+pfgxYLxD7jkb7QgnzowS/wjJbQrRBjPnqfakg8CvY5eeV0vfFLuEo2JrLq18Xr/sQHruTwBHdQDR+y8MTwdRw+EA10zLDqZULWPoOq+ctQW0OwDDsDPAtgdUalS7ZTovkuxHqw412K2kAVJSv4r/u/P/zsR4O9eSJc0h8aXEno5H5NDFwZHT9mQW+hLbJvZWMu46fBrAog2bOhQDZ9E2hrps07iD+vFG8N+xpEy6YQT/QxxQp1AWe3kqlk+TpaHWjbhy3j+5rz6tJT8HbgEYH2U/74LTliPnf6FuXIsBQ2LAEG7HiG4jezl0R0frnPsVa1s0y8sxV46hI/uE3JrwBHM=
  - secure: rmJMpOCU7fSnXD/0zjOFnp2ltlN34Z6E7OtM+FmvJ+dzxlGqdBr/ex6jSeFYE3tbjV86DJ6qEZmy41kawb1WZBXMtyg58L3xEEu/YBbxZxyuaEeMcpTZ089CvulsqPC4Dn+uZi78TZLgfq/FV/jJ2aDzbwVjYE/a70MSfkoS4TkMK4kxW+XkZWj0i620Cnaj0JxlHeAYiwEeH4pxw5zxO7WsZOMSNNzxpddEoGrFnq6B2k28gKmYOBczN6x0ySBAnuDw1arMgQt6WS9aLEXvgietXKmV5nJ6BGmsHK1nmmPDbK0A/cpTCvuT6iulmpah7E20Y4znHIjgpqSq39/JDfkLWAv6sMK+zKLLUvWqQsD9ddaNTdLRJVO5eQn/0n8mXlULDEto4nsjtFp817tNwNff28srXSOwba7X9O2Jr0JpSXJr4ds/JSHVWMtliA0qireI+0qjMFagU7LA8Oq9s7rfoJj7Um2CduAJaMP1SqPFX9WYkzdw+6u8cqeNct+BbX2kkhaFYbKN54dUjwtprwFjiDzoXV9MC8L36LKIhMiQ0z016HaJ8En1ZuFarld1lUVRq3Sg52J5dDg/rQQ0rzJ5subtAz91EAxgcNIpueLvaWo9Z6ZFi1lVtgJma/MRVuHxmahH7AJ/TPJ5ZeMEKOfbItSBxYn4Z3721LeRgV0=
  - secure: bwCKBxB8srF1gwD37Khjz4A7CSy1xFrXmRu0IW2+HrF8M0EqrOJQd02VeDoR3yw9xuoDHe6asxIl641g8WrBdOXPbqdlUIXkmsSjQheYinLexo+1BCabegzjrYkWMYLjkOuvzgVKOSs/wWtw7nmUndtI6ttbG6fyWK1SG3dlK0uUqO/MX9UlsTjgamO6FGJf0OwFLfHJbujtnMWGQCAbw8Ter/3Nsl+iI2jt5dn1//0Su3KTzqptfCUj2T3VZOwLNu2zglxIy67vxHxRLxLAUc6MgApvZeLWxCaY9w1+X3NB6tVeprI69jTmq9II0cG/SOlZa7b10B+gIopHkTyD1ODgB8x9wfamOHrjncbRwOHcsyHKW3au4dqlKjdWi1LnyjFsy1idNnH4he21SclcQcWhUMqndGi1ANCpuH75toksacdCb2Blua+zSsRQkUwVjZHaUaF8BZ4Oi57R+VOyeicb3aJvrgiBE2FjnNLZqY9DFrrFdxRU7Y5TV2BZ4dXZzhIVgyC+h0d2nbYf5PMEfZsvIegHKhxmlbaOkd+adaWsD6pms5ZRntCXduf7XzC34SFw1VSQdQpq2ysKeo4F+sNh23bNIKKivpMNW1UHfYzZC4exwlmjbgECkyOA9pN1MtqHLOrNdyu12J30ZbfnQ8x2Wt/ycWjO74fP8mrseuA=
